@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   å­—å…¸å†…å®¹åŸºç¡€æ ·å¼
   ======================================== */
.dict-content {
  @apply text-base leading-relaxed text-default-700 dark:text-default-300;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* éšè—éŸ³é¢‘å…ƒç´  */
.dict-content audio,
.dict-content .dict-audio {
  @apply hidden;
}

/* éšè—åŸå§‹æ ·å¼è¡¨ */
.dict-content link {
  @apply hidden;
}

/* ========================================
   è¯æ¡ç»“æ„æ ·å¼ - æ”¯æŒå¸¸è§ MDX å­—å…¸æ ¼å¼
   ======================================== */

/* è¯æ¡å®¹å™¨ */
.dict-content > span,
.dict-content > div {
  @apply block;
}

/* å•è¯æ ‡é¢˜ - å¤šç§ç±»åæ”¯æŒ */
.dict-content .DC,
.dict-content .headword,
.dict-content .hw,
.dict-content .entry-word {
  @apply text-xl font-bold text-primary-600 dark:text-primary-400 mr-2;
}

/* éŸ³æ ‡ */
.dict-content .YB,
.dict-content .CB,
.dict-content .phonetic,
.dict-content .pron,
.dict-content .pronunciation,
.dict-content [class*="phon"] {
  @apply text-sm text-secondary-600 dark:text-secondary-400 font-mono mx-1;
}

.dict-content .YB::before,
.dict-content .phonetic::before,
.dict-content .pron::before {
  content: '/';
}

.dict-content .YB::after,
.dict-content .phonetic::after,
.dict-content .pron::after {
  content: '/';
}

/* è¯æ€§æ ‡æ³¨ */
.dict-content .DX,
.dict-content .pos,
.dict-content .part-of-speech,
.dict-content .gram,
.dict-content [class*="pos"] {
  @apply inline-block text-xs font-medium px-2 py-0.5 rounded-full 
         bg-warning-100 text-warning-700 
         dark:bg-warning-900/30 dark:text-warning-400
         mr-2 my-1;
}

/* é‡Šä¹‰ç¼–å· */
.dict-content .sense-num,
.dict-content .def-num,
.dict-content .sn {
  @apply inline-flex items-center justify-center 
         w-5 h-5 text-xs font-bold rounded-full
         bg-primary-100 text-primary-700
         dark:bg-primary-900/30 dark:text-primary-400
         mr-2;
}

/* é‡Šä¹‰æ–‡æœ¬ */
.dict-content .JX,
.dict-content .def,
.dict-content .definition,
.dict-content .meaning,
.dict-content .sense {
  @apply block my-3 pl-4 border-l-2 border-primary-200 dark:border-primary-800;
}

/* ä¾‹å¥ */
.dict-content .example,
.dict-content .ex,
.dict-content .sent,
.dict-content .sentence,
.dict-content [class*="example"],
.dict-content [class*="examp"] {
  @apply block my-2 pl-4 py-2 
         bg-default-50 dark:bg-default-100/5 
         rounded-lg text-default-600 dark:text-default-400
         italic border-l-3 border-success-300 dark:border-success-700;
}

/* ä¾‹å¥ä¸­çš„é«˜äº®è¯ */
.dict-content .example b,
.dict-content .example strong,
.dict-content .ex b,
.dict-content .ex strong {
  @apply not-italic font-semibold text-primary-600 dark:text-primary-400;
}

/* åŒä¹‰è¯/åä¹‰è¯ */
.dict-content .syn,
.dict-content .synonym,
.dict-content .ant,
.dict-content .antonym {
  @apply inline-block text-sm px-2 py-0.5 rounded 
         bg-secondary-100 text-secondary-700
         dark:bg-secondary-900/30 dark:text-secondary-400
         mr-1 my-0.5;
}

/* æ ‡ç­¾/åˆ†ç±» */
.dict-content .label,
.dict-content .tag,
.dict-content .usage,
.dict-content .register {
  @apply inline-block text-xs uppercase tracking-wide px-1.5 py-0.5 rounded
         bg-default-200 text-default-600
         dark:bg-default-100/10 dark:text-default-400
         mr-1;
}

/* è¯ç»„/æ­é… */
.dict-content .phrase,
.dict-content .collocation,
.dict-content .idiom {
  @apply font-medium text-default-800 dark:text-default-200;
}

/* æ³¨é‡Š/è¯´æ˜ */
.dict-content .note,
.dict-content .usage-note,
.dict-content .grammar {
  @apply block my-3 p-3 rounded-lg
         bg-primary-50 dark:bg-primary-900/20
         border border-primary-200 dark:border-primary-800
         text-sm text-primary-700 dark:text-primary-300;
}

.dict-content .note::before,
.dict-content .usage-note::before {
  content: 'ğŸ“ ';
}

/* ========================================
   è¡¨æ ¼æ ·å¼ - æ”¯æŒæ—  CSS è¯å…¸çš„é»˜è®¤ç¾åŒ–
   ======================================== */
.dict-content table {
  @apply w-full border-collapse my-4 text-sm;
}

/* éšè—è¡¨å¤´ï¼ˆå¦‚ "Words" ç­‰æ— æ„ä¹‰çš„åˆ—æ ‡é¢˜ï¼‰ */
.dict-content table thead,
.dict-content table th {
  @apply hidden;
}

/* è¡¨æ ¼è¡Œæ ·å¼ */
.dict-content table tr {
  @apply border-b border-default-100 dark:border-default-50;
}

.dict-content table tr:last-child {
  @apply border-b-0;
}

.dict-content tr:hover td {
  @apply bg-default-50 dark:bg-default-100/5;
}

/* è¡¨æ ¼å•å…ƒæ ¼åŸºç¡€æ ·å¼ */
.dict-content td {
  @apply p-2 sm:p-3 align-top;
}

/* ç¬¬ä¸€åˆ—ï¼šåˆ†ç±»æ ‡ç­¾æ ·å¼ï¼ˆå¦‚"æ³¨"ã€"ç§‘"ç­‰ï¼‰ */
.dict-content td:first-child {
  @apply font-bold text-primary-600 dark:text-primary-400
         whitespace-nowrap pr-4 w-auto
         text-center align-top;
  min-width: 2.5rem;
}

/* ä¸ºå•ä¸ªæ±‰å­—åˆ†ç±»æ ‡ç­¾æ·»åŠ ç‰¹æ®Šæ ·å¼ */
.dict-content td:first-child:not(:empty) {
  @apply text-lg;
}

/* ç¬¬äºŒåˆ—å¦‚æœæ˜¯ "Words" è¿™æ ·çš„æ ‡ç­¾åˆ—ï¼Œä¹Ÿéšè— */
.dict-content table td:nth-child(2):empty,
.dict-content table td:nth-child(2):only-child {
  @apply hidden;
}

/* æœ€åä¸€åˆ—ï¼šä¸»è¦å†…å®¹åŒºåŸŸ */
.dict-content td:last-child {
  @apply w-full;
}

/* ========================================
   é“¾æ¥æ ·å¼
   ======================================== */
.dict-content a {
  @apply text-primary-600 dark:text-primary-400 
         hover:text-primary-700 dark:hover:text-primary-300
         underline decoration-primary-300 dark:decoration-primary-700
         underline-offset-2 transition-colors;
}

/* å•è¯è·³è½¬é“¾æ¥æ ·å¼ï¼ˆentry:// åè®®ï¼‰ */
.dict-content a[href^="entry://"] {
  @apply cursor-pointer inline-flex items-center gap-0.5
         text-primary-600 dark:text-primary-400
         hover:text-primary-500 dark:hover:text-primary-300
         decoration-dotted decoration-primary-400 dark:decoration-primary-600
         hover:decoration-solid
         transition-all duration-150;
}

.dict-content a[href^="entry://"]:hover {
  @apply bg-primary-50 dark:bg-primary-900/30 rounded px-0.5 -mx-0.5;
}

/* ä¸ºè·³è½¬é“¾æ¥æ·»åŠ å°å›¾æ ‡æç¤º */
.dict-content a[href^="entry://"]::after {
  content: 'â†—';
  @apply text-xs opacity-50 ml-0.5;
}

/* ========================================
   åˆ—è¡¨æ ·å¼
   ======================================== */
.dict-content ul {
  @apply my-2 ml-4 space-y-1;
}

.dict-content ul > li {
  @apply relative pl-4;
}

.dict-content ul > li::before {
  content: '';
  @apply absolute left-0 top-2.5 w-1.5 h-1.5 rounded-full bg-primary-400;
}

.dict-content ol {
  @apply my-2 ml-4 space-y-1 list-decimal;
}

.dict-content ol > li {
  @apply pl-1;
}

/* ========================================
   å›¾ç‰‡æ ·å¼
   ======================================== */
.dict-content img {
  @apply max-w-full h-auto rounded-lg my-2 shadow-sm;
}

/* ========================================
   æ®µè½å’Œåˆ†éš”
   ======================================== */
.dict-content p {
  @apply my-2;
}

.dict-content br {
  @apply block my-1;
}

.dict-content hr {
  @apply my-4 border-default-200 dark:border-default-100;
}

/* ========================================
   ä¼ ç»Ÿæ±‰è¯­è¯å…¸æ ·å¼ - æ—è¯­å ‚ç­‰æ— ä¸“å±CSSçš„è¯å…¸
   ======================================== */

/* éšè—å†…å®¹ä¸­çš„ "Words" ç­‰æ— æ„ä¹‰æ ‡ç­¾æ–‡æœ¬ */
.dict-content table td {
  /* å¦‚æœå•å…ƒæ ¼åªåŒ…å« "Words" æ–‡æœ¬ï¼Œé€šè¿‡è§†è§‰éšè— */
}

/* åˆ†ç±»æ ‡ç­¾ç¾åŒ–ï¼ˆå•ä¸ªæ±‰å­—å¦‚"æ³¨"ã€"ç§‘"ã€"å‹•"ç­‰ï¼‰ */
.dict-content table tr td:first-child {
  @apply relative;
}

/* ä¸ºåˆ†ç±»æ ‡ç­¾æ·»åŠ èƒŒæ™¯è£…é¥° */
.dict-content table tr:not(:first-child) td:first-child:not(:empty) {
  @apply bg-primary-50 dark:bg-primary-900/20 rounded-lg;
  padding: 0.25rem 0.5rem;
}

/* é‡Šä¹‰å†…å®¹ä¸­çš„ç¼–å·æ ·å¼ */
.dict-content table td:last-child {
  @apply leading-relaxed;
}

/* è¯æ¡ä¸­çš„æ‹¼éŸ³æ ‡æ³¨ */
.dict-content table td i,
.dict-content table td em {
  @apply text-secondary-600 dark:text-secondary-400 not-italic;
  font-family: 'Times New Roman', serif;
}

/* è¯æ¡ä¸­çš„æ–¹æ‹¬å·å†…å®¹ï¼ˆé€šå¸¸æ˜¯æ‹¼éŸ³ï¼‰ */
.dict-content table td {
  /* æ–¹æ‹¬å·å†…çš„æ‹¼éŸ³ä¿æŒæ–œä½“ */
}

/* è¯æ¡é“¾æ¥æ ·å¼å¢å¼º */
.dict-content table a {
  @apply font-medium;
}

/* ========================================
   ç‰¹å®šå­—å…¸æ ·å¼ - ç°ä»£è‹±æ±‰æ±‰è‹±ç»¼åˆå¤§è¾å…¸
   ======================================== */

/* è¯æ¡å®¹å™¨ */
.dict-content .CK {
  @apply block;
}

/* æ—¥è¯­/æ±‰å­—æ ·å¼ */
.dict-content .JS {
  @apply block mt-2;
}

.dict-content .CY {
  @apply block;
}

.dict-content .CX {
  @apply block mb-3;
}

/* å•è¯é«˜äº® */
.dict-content .YX {
  @apply text-2xl font-bold text-primary-600 dark:text-primary-400 mr-3;
}

/* è¯æ¡åˆ†éš” */
.dict-content .CK + .CK {
  @apply mt-4 pt-4 border-t border-default-200 dark:border-default-100;
}

/* ========================================
   åŠ¨ç”»å’Œäº¤äº’
   ======================================== */
.dict-entry {
  @apply transition-colors duration-200;
}

.dict-entry:hover {
  @apply bg-default-50/50 dark:bg-default-100/5;
}

/* å®šä¹‰å±•å¼€åŠ¨ç”» */
.dict-definition {
  animation: fadeInUp 0.3s ease-out;
}

/* é¡µé¢å…ƒç´ æ·¡å…¥åŠ¨ç”» */
.animate-fade-in {
  animation: fadeInUp 0.5s ease-out;
}

.animate-fade-in-delay {
  animation: fadeInUp 0.7s ease-out 0.2s backwards;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ========================================
   å¡ç‰‡æ ·å¼å¢å¼º
   ======================================== */
.dict-card {
  @apply transition-shadow duration-200;
}

.dict-card:hover {
  @apply shadow-md;
}

/* ========================================
   å“åº”å¼è°ƒæ•´
   ======================================== */
@media (max-width: 640px) {
  .dict-content {
    @apply text-sm leading-normal;
  }
  
  .dict-content .YX,
  .dict-content .DC,
  .dict-content .headword,
  .dict-content .hw,
  .dict-content .entry-word {
    @apply text-lg;
  }
  
  .dict-content .example,
  .dict-content .ex,
  .dict-content .sent,
  .dict-content .sentence,
  .dict-content [class*="example"],
  .dict-content [class*="examp"] {
    @apply pl-3 py-1.5 my-1.5;
  }

  /* é‡Šä¹‰æ–‡æœ¬ç§»åŠ¨ç«¯é—´è·è°ƒæ•´ */
  .dict-content .JX,
  .dict-content .def,
  .dict-content .definition,
  .dict-content .meaning,
  .dict-content .sense {
    @apply my-2 pl-3;
  }

  /* æ³¨é‡Šç§»åŠ¨ç«¯è°ƒæ•´ */
  .dict-content .note,
  .dict-content .usage-note,
  .dict-content .grammar {
    @apply my-2 p-2;
  }

  /* è¡¨æ ¼æ”¹ä¸ºæ°´å¹³æ»šåŠ¨æ¨¡å¼ */
  .dict-content table {
    @apply block overflow-x-auto my-3;
  }

  /* åˆ—è¡¨ç§»åŠ¨ç«¯è°ƒæ•´ */
  .dict-content ul,
  .dict-content ol {
    @apply ml-3;
  }

  /* éŸ³æ ‡ç§»åŠ¨ç«¯è°ƒæ•´ */
  .dict-content .YB,
  .dict-content .CB,
  .dict-content .phonetic,
  .dict-content .pron,
  .dict-content .pronunciation,
  .dict-content [class*="phon"] {
    @apply text-xs;
  }

  /* è¯æ€§æ ‡æ³¨ç§»åŠ¨ç«¯è°ƒæ•´ */
  .dict-content .DX,
  .dict-content .pos,
  .dict-content .part-of-speech,
  .dict-content .gram,
  .dict-content [class*="pos"] {
    @apply text-xs px-1.5 py-0.5;
  }
}

/* ========================================
   æ·±è‰²æ¨¡å¼ç‰¹æ®Šå¤„ç†
   ======================================== */
.dark .dict-content {
  @apply text-default-300;
}

/* å¹³æ»‘ä¸»é¢˜åˆ‡æ¢ */
html {
  @apply transition-colors duration-300;
}

/* æç®€é£æ ¼è°ƒæ•´ */
body {
  @apply antialiased;
}

/* æ»šåŠ¨æ¡ç¾åŒ– */
::-webkit-scrollbar {
  @apply w-2 h-2;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-default-300 dark:bg-default-600 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-default-400 dark:bg-default-500;
}
